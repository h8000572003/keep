<!doctype html>

<html lang="en" class="h-100">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Hugo 0.67.1" />
  <link rel="stylesheet" href="https://h8000572003.github.io/keep/css/bootstrap.min.css">
  
  
  <title>SonarQube | 學習筆記</title>
  <style>
.container {
  max-width: 700px;
}
#nav a {
  font-weight: bold;
  color: inherit;
}
#nav a.nav-link-active {
  background-color: #212529;
  color: #fff;
}
#nav-border {
  border-bottom: 1px solid #212529;
}
#main {
  margin-top: 1em;
  margin-bottom: 4em;
}
#home-jumbotron {
  background-color: inherit;
}
#footer .container {
  padding: 1em 0;
}
#footer a {
  color: inherit;
  text-decoration: underline;
}
.font-125 {
  font-size: 125%;
}
.tag-btn {
  margin-bottom: 0.3em;
}
pre {
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 16px;
}
pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  background-color: transparent;
  border-radius: 0;
}
code {
  padding: 2px 4px;
  font-size: 90%;
  color: #c7254e;
  background-color: #f9f2f4;
  border-radius: 4px;
}
img,
iframe,
embed,
video,
audio {
  max-width: 100%;
}
.card-img,
.card-img-top,
.card-img-bottom {
  width: initial;
}
</style>
</head>
  <body class="d-flex flex-column h-100">
    <div id="nav-border" class="container">
  <nav id="nav" class="nav justify-content-center">
  
  
  
    
    
      
      
      
      
      
        
      
    
    
    <a class="nav-link " href="/keep/"><i data-feather="home"></i> Home</a>
  
    
    
      
      
      
      
      
       
        
        
      
    
    
    <a class="nav-link nav-link-active" href="/keep/post/"><i data-feather="edit"></i> Blog</a>
  
    
    
      
      
      
      
      
        
      
    
    
    <a class="nav-link " href="/keep/tags/"><i data-feather="tag"></i> Tags</a>
  
    
    
      
      
      
      
      
        
      
    
    
    <a class="nav-link " href="/keep/about/"><i data-feather="smile"></i> About</a>
  
    
    
      
      
      
      
      
        
      
    
    
    <a class="nav-link " href="/keep/index.xml"><i data-feather="rss"></i> RSS</a>
  
  </nav>
</div>

    <div class="container">
      <main id="main">
        

<h1>SonarQube</h1>


<i data-feather="calendar"></i> <time datetime="2020-03-19">Mar 19, 2020</time>

<br><br>
<h2 id="簡介sonarqubehttpswwwsonarqubeorgsonarqube-8-2gclidcjwkcajwsmzzbraceiwax4llg85-5xdd3vbjz28ebrn9etr7acj2hg_zuf_q8bm3kyfuxdu1wscjxxoc9f0qavd_bwe">簡介<a href="https://www.sonarqube.org/sonarqube-8-2/?gclid=CjwKCAjwsMzzBRACEiwAx4lLG85-5XDD3vBjZ28ebrN9Etr7acj2HG_ZuF_q8bM3KyFUxDu1WSCJXxoC9f0QAvD_BwE">SonarQube</a></h2>
<p>Sonar是一個用於代碼質量管理的開源平台，用於管理代碼的質量，是一個Web系統，展現了靜態代碼掃描的結果， 通過插件形式可以支持二十幾種語言的代碼質量檢測，通過多個維度的檢查了快速定位代碼中潛在的或者明顯的錯誤；
SonarQube 程式碼品質分析工具用 7 個維度來分析程式碼品質，包括：</p>
<ul>
<li>程式架構　Architecture &amp; Design</li>
<li>冗餘程式　Duplications</li>
<li>單元測試　Unit tests</li>
<li>複雜度　　Complexity</li>
<li>潛在問題　Potential bugs</li>
<li>寫作原則　Coding rules</li>
<li>註解　　　Comments</li>
<li></li>
</ul>
<h2 id="sonar檢測維度">Sonar檢測維度</h2>
<p>Sonar可以從七個維度進行代碼質量檢測，我們可以根據不同維度的嚴重性然後根據我們的經驗做出相應的代碼優化，當然並不是所有維度我們都有必要代碼修改；</p>
<ul>
<li>代碼規範
Sonar可以通過<a href="/pmd">PMD</a>、<a href="https://checkstyle.sourceforge.io/">CheckStyle</a>、Findbugs等代碼規則檢測工具來檢測我們代碼是否符合代碼規範；</li>
<li>潛在的缺陷
Sonar可以通過PMD、CheckStyle、Findbugs等代碼規則檢測工具來檢測我們代碼是否有代碼缺陷（比如空指針是否有判斷、IO流是否有關閉等）；</li>
<li>糟糕的複雜度分佈
文件、類、方法等，如果復雜度過高將難以改變，這會使得開發人員難以理解它們 且如果沒有自動化的單元測試，對於程序中的任何組件的改變都將可能導致需要全面的回歸測試</li>
<li>重複代碼
程序中包含大量複製粘貼的代碼是質量低下的，sonar可以展示源碼中重複嚴重的地方</li>
<li>註釋的檢測
沒有註釋將使代碼可讀性變差，特別是當不可避免地出現人員變動時，程序的可讀性將大幅下降而過多的註釋又會使得開發人員將精力過多地花費在閱讀註釋上，亦違背初衷</li>
<li>單元測試
sonar可以很方便地統計並展示單元測試覆蓋率</li>
<li>糟糕的設計
通過sonar可以找出循環，展示包與包、類與類之間相互依賴關係，可以檢測自定義的架構規則通過sonar可以管理第三方的jar包，可以利用LCOM4檢測單個任務規則的應用情況， 檢測耦合。</li>
</ul>
<h2 id="介面簡介">介面簡介</h2>
<p><img src="sonarqube/index.png" alt="首頁"></p>
<blockquote>
<p>綠色：功能列</p>
</blockquote>
<h2 id="選單">選單</h2>
<ul>
<li>漏洞、BUG、壞味道數量與趨勢</li>
<li>單元測試覆蓋率，重複程式碼比率</li>
<li>程式數量</li>
<li>程式狀態</li>
<li>技術債</li>
</ul>
<p><font color="#dd0000">BUG程式錯誤，漏洞可能被駭客利用部分</font><br /></p>
<h2 id="過濾器分類bug漏洞與壞味道">過濾器分類BUG、漏洞與壞味道</h2>
<p><img src="../post/sonarqube/index.png" alt="問題"></p>
<blockquote>
<p>綠色：條件篩選 紅色：查詢結果</p>
</blockquote>
<p>驗證性有五種層級：</p>
<ul>
<li>BLOCKER阻斷：影響功能很有可能發生memory leak</li>
<li>CRITICAL嚴重：Empty catch block, SQL injection</li>
<li>MAJOR主要：質量缺陷會嚴重影響開發人員的工作效率：未發現代碼段，重複的塊，未使用的參數，</li>
<li>MINOR次要：質量缺陷可能會稍微影響開發人員的生產力：行不應太長，“ switch”語句應至少包含3種情況，&hellip;</li>
<li>INFO提示：錯誤或質量缺陷都只是發現。</li>
</ul>
<p>檢視該弱點，並選擇該項目
<img src="../post/sonarqube/step1.png" alt="warm-item"></p>
<p>檢視該項項目檢視
<img src="../post/sonarqube/step2.png" alt="view"></p>
<p>檢視修改方式
<img src="../post/sonarqube/step3.png" alt="way"></p>
<p>檢視該程式
<img src="../post/sonarqube/step4.png" alt="all"></p>



      </main>
    </div>
    
<footer id="footer" class="mt-auto text-center text-muted">
  <div class="container">
    Made with <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/zwbetz-gh/vanilla-bootstrap-hugo-theme">Vanilla</a>
  </div>
</footer>

    <script src="https://h8000572003.github.io/keep/js/feather.min.js"></script>
<script>
  feather.replace()
</script>


    


<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq"
  crossorigin="anonymous"
/>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz"
  crossorigin="anonymous"
></script>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
  crossorigin="anonymous"
  onload="renderMathInElement(document.body);"
></script>


    
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  </body>
</html>